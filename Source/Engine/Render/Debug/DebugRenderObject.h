///--------------------------------------------------------------------------------------------------------------------------------------------------
/// Author: Andrew Chase
/// Date Created: February 12th, 2021
/// Description: 
///--------------------------------------------------------------------------------------------------------------------------------------------------
#pragma once

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// INCLUDES
///--------------------------------------------------------------------------------------------------------------------------------------------------
#include "Engine/Framework/Entity.h"
#include "Engine/Framework/Rgba.h"
#include "Engine/Math/Transform.h"
#include "Engine/Time/FrameTimer.h"

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// DEFINES
///--------------------------------------------------------------------------------------------------------------------------------------------------
#define INVALID_DEBUG_RENDER_OBJECT_HANDLE -1;

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// ENUMS, TYPEDEFS, STRUCTS, FORWARD DECLARATIONS
///--------------------------------------------------------------------------------------------------------------------------------------------------
typedef int DebugRenderHandle;
struct DebugRenderOptions
{
	Rgba	m_color = Rgba::RED;
	float	m_lifetime = 0.f;
};


///--------------------------------------------------------------------------------------------------------------------------------------------------
/// GLOBALS AND STATICS
///--------------------------------------------------------------------------------------------------------------------------------------------------

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// CLASS DECLARATIONS
///--------------------------------------------------------------------------------------------------------------------------------------------------

//-------------------------------------------------------------------------------------------------
class DebugRenderObject : public Entity
{
	RTTI_BASE_CLASS(DebugRenderObject);

public:
	//-----Public Methods-----

	virtual void	Render() const = 0;

	bool			IsFinished() const;			

	void			UpdateOptions(const DebugRenderOptions& options);
	void			SetTimeToLive(float newTtl);
	void			SetColor(const Rgba& color);


private:
	//-----Private Data-----

	Transform			m_transform;
	float				m_ttl = -1.0f;
	bool				m_isFinished = false;
	FrameTimer			m_frameTimer;
	DebugRenderOptions	m_options;
	DebugRenderHandle	m_debugHandle = INVALID_DEBUG_RENDER_OBJECT_HANDLE;

};


///--------------------------------------------------------------------------------------------------------------------------------------------------
/// C FUNCTIONS
///--------------------------------------------------------------------------------------------------------------------------------------------------
