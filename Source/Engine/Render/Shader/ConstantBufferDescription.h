///--------------------------------------------------------------------------------------------------------------------------------------------------
/// Author: Andrew Chase
/// Date Created: Oct 24th, 2021
/// Description: Description for a single constant buffer in a shader
///--------------------------------------------------------------------------------------------------------------------------------------------------
#pragma once

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// INCLUDES
///--------------------------------------------------------------------------------------------------------------------------------------------------
#include "Engine/Utility/StringID.h"
#include <vector>

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// DEFINES
///--------------------------------------------------------------------------------------------------------------------------------------------------

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// ENUMS, TYPEDEFS, STRUCTS, FORWARD DECLARATIONS
///--------------------------------------------------------------------------------------------------------------------------------------------------
class ConstantVariableDescription;

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// GLOBALS AND STATICS
///--------------------------------------------------------------------------------------------------------------------------------------------------

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// CLASS DECLARATIONS
///--------------------------------------------------------------------------------------------------------------------------------------------------

//-------------------------------------------------------------------------------------------------
class ConstantBufferDescription
{
public:
	//-----Public Methods-----

	ConstantBufferDescription(const StringID& name, int bindSlot, int byteSize);

	void								AddVariableDescription(ConstantVariableDescription* varDescription);

	StringID							GetName() const { return m_name; }
	int									GetVariableCount() const { return (int)m_variableDescriptions.size(); }
	int									GetBindSlot() const { return m_bindSlot; }
	int									GetSize() const { return m_byteSize; }
	const ConstantVariableDescription*	GetVariableDescription(int index) const;
	const ConstantVariableDescription*	GetVariableDescription(const StringID& variableName) const;


private:
	//-----Private Data-----

	StringID									m_name;
	int											m_bindSlot = -1;
	int											m_byteSize = -1;
	std::vector<ConstantVariableDescription*>	m_variableDescriptions;

};

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// C FUNCTIONS
///--------------------------------------------------------------------------------------------------------------------------------------------------