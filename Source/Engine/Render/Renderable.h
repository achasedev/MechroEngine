///--------------------------------------------------------------------------------------------------------------------------------------------------
/// Author: Andrew Chase
/// Date Created: March 15th, 2020
/// Description: 
///--------------------------------------------------------------------------------------------------------------------------------------------------
#pragma once

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// INCLUDES
///--------------------------------------------------------------------------------------------------------------------------------------------------
#include "Engine/Core/EngineCommon.h"
#include "Engine/Math/Matrix44.h"
#include <vector>

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// DEFINES
///--------------------------------------------------------------------------------------------------------------------------------------------------

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// ENUMS, TYPEDEFS, STRUCTS, FORWARD DECLARATIONS
///--------------------------------------------------------------------------------------------------------------------------------------------------
class Mesh;
class Material;
struct RenderableDraw
{
	Matrix44			m_drawMatrix;
	Mesh*				m_mesh = nullptr;
	Material*			m_material = nullptr;
};

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// GLOBALS AND STATICS
///--------------------------------------------------------------------------------------------------------------------------------------------------

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// CLASS DECLARATIONS
///--------------------------------------------------------------------------------------------------------------------------------------------------

//-------------------------------------------------------------------------------------------------
class Renderable
{
public:
	//-----Public Methods-----

	void			SetDrawMatrix(uint32 drawIndex, const Matrix44& drawMatrix);
	void			SetDrawMaterial(uint32 drawIndex, Material* material);
	void			SetDrawMesh(uint32 drawIndex, Mesh* mesh);
	void			SetDraw(uint32 drawIndex, const RenderableDraw& draw);
	void			SetRenderableMatrix(const Matrix44& rendMatrix) { m_matrix = rendMatrix; }
	void			AddDraw(Mesh* mesh, Material* material, Matrix44 drawMatrix = Matrix44::IDENTITY);

	uint32			GetNumDrawCalls() const { return (uint32)m_draws.size(); }
	RenderableDraw	GetDraw(uint32 drawIndex) const;
	Matrix44		GetModelMatrix() const { return m_matrix; }


private:
	//-----Private Data-----

	Matrix44						m_matrix = Matrix44::IDENTITY;
	std::vector<RenderableDraw>		m_draws;

};


///--------------------------------------------------------------------------------------------------------------------------------------------------
/// C FUNCTIONS
///--------------------------------------------------------------------------------------------------------------------------------------------------
