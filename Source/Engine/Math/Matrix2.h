///--------------------------------------------------------------------------------------------------------------------------------------------------
/// Author: Andrew Chase
/// Date Created: Nov 16th, 2021
/// Description: 
///--------------------------------------------------------------------------------------------------------------------------------------------------
#pragma once

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// INCLUDES
///--------------------------------------------------------------------------------------------------------------------------------------------------
#include "Engine/Math/Vector2.h"

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// DEFINES
///--------------------------------------------------------------------------------------------------------------------------------------------------

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// ENUMS, TYPEDEFS, STRUCTS, FORWARD DECLARATIONS
///--------------------------------------------------------------------------------------------------------------------------------------------------

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// GLOBALS AND STATICS
///--------------------------------------------------------------------------------------------------------------------------------------------------

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// CLASS DECLARATIONS
///--------------------------------------------------------------------------------------------------------------------------------------------------
#pragma warning(disable : 4201) // Keep the structs anonymous

//-------------------------------------------------------------------------------------------------
class Matrix2
{
public:
	//-----Public Methods-----

	Matrix2();
	Matrix2(const Matrix2& other);
	explicit Matrix2(const Vector2& iBasis, const Vector2& jBasis);

	void	operator=(const Matrix2& other);
	bool	operator==(const Matrix2& other) const;
	Matrix2 operator*(const float scalar) const;
	void	operator*=(const float scalar);
	Matrix2 operator*(const Matrix2& other) const;
	Vector2 operator*(const Vector2& v) const;

	void	Transpose();
	void	Invert();
	Matrix2 GetTranspose() const;
	Matrix2 GetInverse() const;
	Vector2 GetXVector() const;
	Vector2 GetYVector() const;
	float	GetDeterminant() const;


public:
	//-----Public Data-----

	union
	{
		struct
		{
			float Ix;
			float Iy;
			float Jx;
			float Jy;
		};

		struct
		{
			Vector2 iBasis;
			Vector2 jBasis;
		};

		Vector2 columnVectors[2];
		float data[4];
	};

	static const Matrix2 IDENTITY;
	static const Matrix2 ZERO;

};

#pragma warning(default : 4201)
///--------------------------------------------------------------------------------------------------------------------------------------------------
/// C FUNCTIONS
///--------------------------------------------------------------------------------------------------------------------------------------------------