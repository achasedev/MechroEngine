///--------------------------------------------------------------------------------------------------------------------------------------------------
/// Author: Andrew Chase
/// Date Created: March 20th, 2021
/// Description: 
///--------------------------------------------------------------------------------------------------------------------------------------------------
#pragma once

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// INCLUDES
///--------------------------------------------------------------------------------------------------------------------------------------------------
#include "Engine/Math/AABB3.h"
#include "Engine/Math/Plane.h"
#include "Engine/Math/Transform.h"
#include <vector>

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// DEFINES
///--------------------------------------------------------------------------------------------------------------------------------------------------

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// ENUMS, TYPEDEFS, STRUCTS, FORWARD DECLARATIONS
///--------------------------------------------------------------------------------------------------------------------------------------------------

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// GLOBALS AND STATICS
///--------------------------------------------------------------------------------------------------------------------------------------------------

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// CLASS DECLARATIONS
///--------------------------------------------------------------------------------------------------------------------------------------------------

//-------------------------------------------------------------------------------------------------
class OBB3
{
public:
	//-----Public Methods-----

	OBB3() {}
	OBB3(const Vector3& center, const Vector3& extents, const Vector3& rotation);

	Vector3		GetCenter() { return m_transform.GetWorldPosition(); }
	Vector3		GetExtents() { return m_transform.GetWorldScale(); }
	Vector3		GetRotationDegrees() { return m_transform.GetWorldRotationDegrees(); }

	Vector3		GetMinsWs();
	Vector3		GetMaxsWs();
	void		GetPoints(Vector3 out_points[8]);

	Vector3		GetRightVector();
	Vector3		GetUpVector();
	Vector3		GetForwardVector();

	void		GetFaceSupportPlanes(std::vector<Plane>& out_planes);


public:
	//-----Public Data-----

	// The center, dimensions, and rotation are all baked into the transform, with (-1, -1, -1) being the "mins" and (1, 1, 1) the "maxs"
	// The center is then (0, 0, 0)
	Transform m_transform;

};


///--------------------------------------------------------------------------------------------------------------------------------------------------
/// C FUNCTIONS
///--------------------------------------------------------------------------------------------------------------------------------------------------
