///--------------------------------------------------------------------------------------------------------------------------------------------------
/// Author: Andrew Chase
/// Date Created: March 25th, 2020
/// Description: 
///--------------------------------------------------------------------------------------------------------------------------------------------------
#pragma once

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// INCLUDES
///--------------------------------------------------------------------------------------------------------------------------------------------------
#include "Engine/Core/EngineCommon.h"

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// DEFINES
///--------------------------------------------------------------------------------------------------------------------------------------------------

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// ENUMS, TYPEDEFS, STRUCTS, FORWARD DECLARATIONS
///--------------------------------------------------------------------------------------------------------------------------------------------------

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// GLOBALS AND STATICS
///--------------------------------------------------------------------------------------------------------------------------------------------------

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// CLASS DECLARATIONS
///--------------------------------------------------------------------------------------------------------------------------------------------------

//-------------------------------------------------------------------------------------------------
class Job
{
	friend class JobSystem;

public:
	//-----Public Methods-----

	Job(bool autoFinalizing)
		: m_autoFinalizing(autoFinalizing) {}
	virtual ~Job() {}

	virtual void	Execute() = 0;
	virtual void	Finalize() = 0;
	int				GetID() const { return m_jobID; }
	int				GetType() const { return m_jobType; }
	uint32			GetFlags() const { return m_jobFlags; }
	bool			IsAutoFinalizing() const { return m_autoFinalizing; }


protected:
	//-----Protected Data-----
	
	int		m_jobID = -1;
	int		m_jobType = -1;
	uint32	m_jobFlags = 0xffffffff;
	bool	m_autoFinalizing = false;

};

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// C FUNCTIONS
///--------------------------------------------------------------------------------------------------------------------------------------------------
