///--------------------------------------------------------------------------------------------------------------------------------------------------
/// Author: Andrew Chase
/// Date Created: March 8th, 2020
/// Description: Hashed c-string class
///--------------------------------------------------------------------------------------------------------------------------------------------------
#pragma once

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// INCLUDES
///--------------------------------------------------------------------------------------------------------------------------------------------------
#include "Engine/Framework/EngineCommon.h"
#include <map>

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// DEFINES
///--------------------------------------------------------------------------------------------------------------------------------------------------
typedef uint32 StringID;
#define INVALID_STRING_ID 0

StringID HashString(const char* str);

#ifdef DEBUG_STRINGID
#define SID(x) StringIDManager::InternString()
#else
#define SID(x) HashString(str)
#endif

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// ENUMS, TYPEDEFS, STRUCTS, FORWARD DECLARATIONS
///--------------------------------------------------------------------------------------------------------------------------------------------------

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// GLOBALS AND STATICS
///--------------------------------------------------------------------------------------------------------------------------------------------------

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// CLASS DECLARATIONS
///--------------------------------------------------------------------------------------------------------------------------------------------------

//-------------------------------------------------------------------------------------------------
class StringIDManager
{
public:
	//-----Public Methods-----

	static void Initialize();
	static void Shutdown();
	static StringIDManager* GetInstance() { return s_instance; }

	StringID InternString(const char* str);


private:
	//-----Private Methods-----

	StringIDManager() {}
	~StringIDManager();
	StringIDManager(const StringIDManager& copy) = delete;


private:
	//-----Private Data-----

	std::map<StringID, const char*> m_stringIDs;

	static StringIDManager* s_instance;

};


///--------------------------------------------------------------------------------------------------------------------------------------------------
/// C FUNCTIONS
///--------------------------------------------------------------------------------------------------------------------------------------------------
