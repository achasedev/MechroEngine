///--------------------------------------------------------------------------------------------------------------------------------------------------
/// Author: Andrew Chase
/// Date Created: May 3rd, 2021
/// Description: 
///--------------------------------------------------------------------------------------------------------------------------------------------------
#pragma once

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// INCLUDES
///--------------------------------------------------------------------------------------------------------------------------------------------------
#include "Engine/Physics/RigidBody/RigidBodyForceRegistry.h"
#include <vector>

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// DEFINES
///--------------------------------------------------------------------------------------------------------------------------------------------------

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// ENUMS, TYPEDEFS, STRUCTS, FORWARD DECLARATIONS
///--------------------------------------------------------------------------------------------------------------------------------------------------
class RigidBody;
class RigidBodyForceGenerator;

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// GLOBALS AND STATICS
///--------------------------------------------------------------------------------------------------------------------------------------------------

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// CLASS DECLARATIONS
///--------------------------------------------------------------------------------------------------------------------------------------------------

//-------------------------------------------------------------------------------------------------
class RigidBodyScene
{
public:
	//-----Public Methods-----

	RigidBodyScene();
	~RigidBodyScene();

	void BeginFrame();
	void DoPhysicsStep(float deltaSeconds);

	void AddRigidbody(RigidBody* body);
	void AddForceGenerator(RigidBodyForceGenerator* forceGen, RigidBody* body);


private:
	//-----Private Methods-----

	void Integrate(float deltaSeconds);


private:
	//-----Private Data-----

	std::vector<RigidBody*> m_bodies;
	std::vector<RigidBodyForceGenerator*> m_forceGens;
	RigidBodyForceRegistry m_forceRegistry;

};

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// C FUNCTIONS
///--------------------------------------------------------------------------------------------------------------------------------------------------
