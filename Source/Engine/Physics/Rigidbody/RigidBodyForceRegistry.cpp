///--------------------------------------------------------------------------------------------------------------------------------------------------
/// Author: Andrew Chase
/// Date Created: May 3rd, 2021
/// Description: 
///--------------------------------------------------------------------------------------------------------------------------------------------------

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// INCLUDES
///--------------------------------------------------------------------------------------------------------------------------------------------------
#include "Engine/Core/EngineCommon.h"
#include "Engine/Physics/RigidBody/RigidBodyForceGenerator.h"
#include "Engine/Physics/RigidBody/RigidBodyForceRegistry.h"

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// DEFINES
///--------------------------------------------------------------------------------------------------------------------------------------------------

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// ENUMS, TYPEDEFS, STRUCTS, FORWARD DECLARATIONS
///--------------------------------------------------------------------------------------------------------------------------------------------------

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// GLOBALS AND STATICS
///--------------------------------------------------------------------------------------------------------------------------------------------------

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// C FUNCTIONS
///--------------------------------------------------------------------------------------------------------------------------------------------------

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// CLASS IMPLEMENTATIONS
///--------------------------------------------------------------------------------------------------------------------------------------------------

//-------------------------------------------------------------------------------------------------
void RigidBodyForceRegistry::GenerateAndAddForces(float deltaSeconds)
{
	for (RigidbodyForceRegistration reg : m_registrations)
	{
		reg.generator->GenerateAndAddForce(reg.body, deltaSeconds);
	}
}


//-------------------------------------------------------------------------------------------------
void RigidBodyForceRegistry::AddRegistration(RigidBody* body, RigidBodyForceGenerator* generator)
{
	m_registrations.push_back(RigidbodyForceRegistration(body, generator));
}
