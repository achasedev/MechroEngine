///--------------------------------------------------------------------------------------------------------------------------------------------------
/// Author: Andrew Chase
/// Date Created: April 4th, 2020
/// Description: 
///--------------------------------------------------------------------------------------------------------------------------------------------------
#pragma once

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// INCLUDES
///--------------------------------------------------------------------------------------------------------------------------------------------------
#include "Engine/Math/AABB2.h"
#include "Engine/UI/UIElement.h"
#include <vector>

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// DEFINES
///--------------------------------------------------------------------------------------------------------------------------------------------------

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// ENUMS, TYPEDEFS, STRUCTS, FORWARD DECLARATIONS
///--------------------------------------------------------------------------------------------------------------------------------------------------
class Camera;
class Texture2D;
class UIElement;

enum ScreenMatchMode
{
	SCREEN_MATCH_WIDTH_OR_HEIGHT,
	SCREEN_MATCH_EXPAND_TO_FILL,
	SCREEN_MATCH_SHRINK_TO_FIT
};

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// GLOBALS AND STATICS
///--------------------------------------------------------------------------------------------------------------------------------------------------

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// CLASS DECLARATIONS
///--------------------------------------------------------------------------------------------------------------------------------------------------

//-------------------------------------------------------------------------------------------------
class Canvas : public UIElement
{
public:
	//-----Public Methods-----

	Canvas();
	~Canvas();

	void				Initialize(Texture2D* outputTexture, const Vector2& resolution, ScreenMatchMode mode, float widthHeightBlend = 1.0f);
	Matrix44			GenerateOrtho();
	virtual void		Render() const override;

	void				SetScreenMatchMode(ScreenMatchMode mode, float widthHeightBlend = 1.0f);
	void				SetResolution(float height, float width);

	Texture2D*			GetOutputTexture() const;


private:
	//-----Private Data-----

	Vector2				m_resolution = Vector2(100.f);
	ScreenMatchMode		m_matchMode = SCREEN_MATCH_WIDTH_OR_HEIGHT;
	Texture2D*			m_outputTexture = nullptr;
	float				m_widthOrHeightBlend = 1.0f; // 1.0 is match to height

};


///--------------------------------------------------------------------------------------------------------------------------------------------------
/// C FUNCTIONS
///--------------------------------------------------------------------------------------------------------------------------------------------------
