///--------------------------------------------------------------------------------------------------------------------------------------------------
/// Author: Andrew Chase
/// Date Created: March 9th, 2020
/// Description: 
///--------------------------------------------------------------------------------------------------------------------------------------------------

///--------------------------------------------------------------------------------------------------------------------------------------------------
///                                                             *** INCLUDES ***
///--------------------------------------------------------------------------------------------------------------------------------------------------
#include "Engine/DirectX/DX11Common.h"
#include "Engine/DirectX/RenderContext.h"
#include "Engine/DirectX/Shader.h"

///--------------------------------------------------------------------------------------------------------------------------------------------------
///                                                             *** DEFINES ***
///--------------------------------------------------------------------------------------------------------------------------------------------------

///--------------------------------------------------------------------------------------------------------------------------------------------------
///                                                              *** TYPES ***
///--------------------------------------------------------------------------------------------------------------------------------------------------

///--------------------------------------------------------------------------------------------------------------------------------------------------
///                                                             *** STRUCTS ***
///--------------------------------------------------------------------------------------------------------------------------------------------------

///--------------------------------------------------------------------------------------------------------------------------------------------------
///                                                        *** GLOBALS AND STATICS ***
///--------------------------------------------------------------------------------------------------------------------------------------------------

///--------------------------------------------------------------------------------------------------------------------------------------------------
///                                                           *** C FUNCTIONS ***
///--------------------------------------------------------------------------------------------------------------------------------------------------

//-------------------------------------------------------------------------------------------------
const char* GetEntryForStage(ShaderStageType stageType)
{
	switch (stageType)
	{
	case SHADER_STAGE_UNINITIALIZED: ERROR_AND_DIE("Attempted to get entry of uninitialized stage type!");
	case SHADER_STAGE_VERTEX: return "VertexFunction"; break;
	case SHADER_STAGE_FRAGMENT: return "VertexFunction"; break;
	}
}


//-------------------------------------------------------------------------------------------------
const char* GetShaderModelForStage(ShaderStageType stageType)
{
	switch (stageType)
	{
	case SHADER_STAGE_UNINITIALIZED: ERROR_AND_DIE("Attempted to get model for uninitialized stage type!"); break;
	case SHADER_STAGE_VERTEX: return "vs_5_0"; break;
	case SHADER_STAGE_FRAGMENT: return "ps_5_0"; break;
	default:
		break;
	}
}


///--------------------------------------------------------------------------------------------------------------------------------------------------
///                                                             *** CLASSES ***
///--------------------------------------------------------------------------------------------------------------------------------------------------

//-------------------------------------------------------------------------------------------------
ShaderStage::~ShaderStage()
{
	DX_SAFE_RELEASE(m_handle);
}


//-------------------------------------------------------------------------------------------------
bool ShaderStage::LoadFromShaderSource(const char* filename, const void* source, const size_t sourceByteSize, ShaderStageType stageType)
{
	RenderContext* renderContext = RenderContext::GetInstance();
	ID3D11DeviceContext* dxContext = renderContext->GetDxContext();

	const char* entryPoint = GetEntryForStage(stageType);
	const char* shaderModel = GetShaderModelForStage(stageType);


}
